(this.webpackJsonpcalendar=this.webpackJsonpcalendar||[]).push([[0],{15:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),o=n(8),r=n.n(o),i=n(2),s=n(3),d=n.n(s),u=(n(15),n(4)),l=n(0);var j=function(e){var t=e.todo,n=e.onDelete,a=e.onToggle;return Object(l.jsx)("div",{className:"todo",children:Object(l.jsxs)("div",{className:"".concat(!0===t.done?"reminder":""),children:[Object(l.jsx)("span",{className:"todo-text",children:t.text}),Object(l.jsx)("span",{className:"todo-time_date",children:t.time}),Object(l.jsx)("span",{className:"todo-time_date",children:t.date}),Object(l.jsxs)("div",{children:[Object(l.jsx)(u.a,{style:{color:"#777777",cursor:"pointer",fontSize:"1.1rem"},onClick:function(){return a({id:t._id,done:t.done})}}),Object(l.jsx)(u.d,{style:{color:"#777777",cursor:"pointer",marginLeft:"1px",marginRight:"-5px"},onClick:function(){return n(t._id)}})]})]})})};var h=function(e){var t=e.todos,n=e.onDelete,a=e.onToggle;return void 0===t?Object(l.jsx)("div",{className:"aside-container alltodos-container loading",children:"Loading..."}):Object(l.jsxs)("div",{className:"aside-container alltodos-container",children:[Object(l.jsx)("h1",{children:"All Todos"}),t.sort((function(e,t){return d()(t.date,"DD-MM-YYYY")<d()(e.date,"DD-MM-YYYY")?1:-1})).map((function(e){return Object(l.jsx)(j,{todo:e,onDelete:n,onToggle:a},e._id)}))]})};var b=function(e){var t,n=e.day,a=e.api,c=e.month,o=e.clickedDay,r=e.colorDayHandler,i=e.todos,s=d()().format("DD-MM-YYYY");if(t="31"===n?31:d()(n,"DD-MM-YYYY").format("D"),void 0===i)return Object(l.jsx)("div",{});var u=n+"-"+c,j=0,h=d()(u,"DD-MM-YYYY").format("YYYY-MM-DD");return Object(l.jsxs)("div",{onMouseDown:function(e){document.querySelectorAll("*").forEach((function(e){e.classList.remove("clickedday")}))},onClick:function(e){if(10===e.target.id.length){var t=e.target.id,n={date:t.slice(-2),year:t.slice(-7,-2),mon:t.replace(/ .*/,""),id:e.target.id};o(n),r(t)}else{var a=e.target.parentNode.id,c={date:a.slice(-2),year:a.slice(-7,-2),mon:a.replace(/ .*/,""),id:e.target.parentNode.id};o(c),r(a)}},id:u,className:"".concat(u===s?"days-day_cont currentday":"days-day_cont"),children:[Object(l.jsxs)("h3",{children:[t,a.filter((function(e){return e.datum===h})).map((function(e){return Object(l.jsx)("span",{className:"days-api",children:e.helgdag},e.datum)}))]}),i.sort((function(e,t){return t.time<e.time?1:-1})).filter((function(e){return e.date===u})).map((function(e){return j++,Object(l.jsxs)("div",{className:"inline day-todo",children:[Object(l.jsx)("span",{className:"dot",children:"\u30fb"}),e.text]},e._id)})),Object(l.jsx)("div",{className:"days-todo_count",children:0===j?"":j+" Todo:"})]})},f=n(9),p=n.n(f);var m=function(){return Object(l.jsx)(p.a,{type:"spin",color:"rgb(241, 136, 139)",height:"15%",width:"15%",className:"loading"})};d.a.updateLocale("sv",{week:{dow:1}});var O=function(e){for(var t=e.days,n=e.firstDayOfMonth,c=parseInt(n,10),o=[],r=0;r<c;r++)o.push(r);var s=d.a.weekdaysShort(!0).map((function(e){return Object(l.jsx)("div",{className:"weekdays-day_cont",children:e},e)})),u=function(t){e.clickedDay(t)},j=Object(a.useState)(""),h=Object(i.a)(j,2),f=h[0],p=h[1],O=function(e){p(e)};return Object(a.useEffect)((function(){""!==f&&document.getElementById(f).classList.add("clickedday")}),[f]),Object(l.jsxs)("section",{className:"calendar-container",children:[Object(l.jsx)("div",{className:"weekdays-container",children:s}),Object(l.jsxs)("div",{className:"days-container",children:[o.map((function(e,t){return Object(l.jsx)("div",{className:"days-day_cont empty"},t)})),void 0!==t?t.map((function(t){return Object(l.jsx)(b,{month:e.monthInNr,day:t,api:e.api,clickedDay:u,colorDayHandler:O,todos:e.todos},e.monthInNr+t)})):Object(l.jsx)(m,{})]})]})};var x=function(e){var t=d()(e.month,"MM-YYYY").format("MMMM YYYY");return Object(l.jsxs)("header",{children:[Object(l.jsxs)("div",{className:"header-name_btn",children:[Object(l.jsx)("div",{className:"header-username",children:e.user}),Object(l.jsx)("button",{onClick:e.logOutHandler,className:"logOutBtn",children:"Sign out"})]}),Object(l.jsxs)("div",{className:"header",children:[Object(l.jsx)(u.b,{type:"submit",onClick:function(){e.changeMonth("back")},className:"header-arrow"}),Object(l.jsx)("h1",{children:t}),Object(l.jsx)(u.c,{type:"submit",onClick:function(){e.changeMonth("forward")},className:"header-arrow"})]})]})};var v=function(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),c=n[0],o=n[1],r=Object(a.useState)(""),s=Object(i.a)(r,2),d=s[0],u=s[1];return Object(l.jsx)("div",{children:Object(l.jsxs)("form",{onSubmit:function(t){var n={text:c,time:d};t.preventDefault(),e.inputToDo(n),o(""),u(),document.getElementById("appt").value=""},children:[Object(l.jsx)("input",{onChange:function(e){o(e.target.value)},type:"text",value:c,placeholder:"New Todo",id:"newTodoInput",maxLength:"20",required:!0}),Object(l.jsx)("input",{type:"time",id:"appt",name:"appt",onChange:function(e){u(e.target.value)}}),Object(l.jsx)("button",{type:"submit",id:"newTodoBtn",children:"+"})]})})};var g=function(e){var t=e.clickedDay,n=e.todos,a=e.onDelete,c=e.onToggle,o=e.editTodo,r=d()(t,"DD-MM-YYYY").format("D MMMM YY");return void 0===n?Object(l.jsx)("div",{className:"aside-container loading",children:"Loading..."}):Object(l.jsxs)("article",{className:"today-todo_container",children:[Object(l.jsx)("h1",{children:r}),n.sort((function(e,t){return t.time<e.time?1:-1})).filter((function(e){return e.date===t})).map((function(e){return Object(l.jsx)("div",{className:"todo",children:Object(l.jsxs)("div",{className:"".concat(!0===e.done?"reminder":""),onClick:function(){o(e)},children:[e.text,"  ",Object(l.jsx)("span",{className:"todo-time_date",children:e.time}),Object(l.jsx)("span",{className:"todo-time_date",children:e.date}),Object(l.jsxs)("div",{children:[Object(l.jsx)(u.a,{style:{color:"#777777",cursor:"pointer",fontSize:"1.1rem"},onClick:function(){return c({id:e._id,done:e.done})}}),Object(l.jsx)(u.d,{style:{color:"#777777",cursor:"pointer",marginLeft:"1px",marginRight:"-5px"},onClick:function(){return a(e._id)}})]})]})},e._id)}))]})};var y=function(e){var t=e.userInfo,n=e.newUserInfo,c=e.errorMsg,o=Object(a.useState)(""),r=Object(i.a)(o,2),s=r[0],d=r[1],u=Object(a.useState)(""),j=Object(i.a)(u,2),h=j[0],b=j[1],f=Object(a.useState)(!0),p=Object(i.a)(f,2),m=p[0],O=p[1],x=Object(a.useState)(""),v=Object(i.a)(x,2),g=v[0],y=v[1],Y=Object(a.useState)(""),N=Object(i.a)(Y,2),M=N[0],S=N[1],D=Object(a.useState)(""),k=Object(i.a)(D,2),C=k[0],w=k[1];return Object(l.jsx)(l.Fragment,{children:m?Object(l.jsx)("div",{className:"login-page",children:Object(l.jsx)("div",{id:"logInContainer",children:Object(l.jsx)("div",{id:"logInInputs",children:Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({email:s,password:h})},children:[Object(l.jsx)("input",{type:"email",placeholder:"EMAIL",id:"userName",className:"logInField",onChange:function(e){d(e.target.value.toLowerCase())},value:s,required:!0}),Object(l.jsx)("input",{type:"password",placeholder:"PASSWORD",id:"passWord",className:"logInField",onChange:function(e){b(e.target.value)},value:h,required:!0}),c?Object(l.jsx)("p",{id:"errorMsg",children:"Sorry, invalid login!"}):"",Object(l.jsx)("button",{id:"logInBtn",children:"Sign in"}),Object(l.jsx)("p",{onClick:function(){return O(!m)},id:"signUp",children:"Create account"})]})})})}):Object(l.jsx)("div",{className:"login-page",children:Object(l.jsx)("div",{id:"newLogInContainer",children:Object(l.jsx)("div",{id:"logInInputs",children:Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n({userName:g,email:M,passWord:C})},children:[Object(l.jsx)("input",{type:"text",placeholder:"CHOOSE NAME",id:"newUserName",className:"logInField",required:"required",onChange:function(e){return y(e.target.value)},value:g}),Object(l.jsx)("input",{type:"email",placeholder:"CHOOSE EMAIL",id:"newEmail",className:"logInField",required:"required",onChange:function(e){return S(e.target.value.toLowerCase())},value:M}),Object(l.jsx)("input",{type:"password",placeholder:" CHOOSE PASSWORD",id:"newPassWord",className:"logInField",required:"required",onChange:function(e){return w(e.target.value)},value:C}),Object(l.jsx)("p",{id:"newErrorMsg"}),Object(l.jsx)("button",{id:"createAccount",children:"Create account"}),Object(l.jsx)("p",{onClick:function(){return O(!m)},id:"signUp",children:"Have an account? Sign in"})]})})})})})};var Y=function(e){var t=e.notes,n=e.onDelete;return void 0===t?Object(l.jsx)("div",{className:"aside-container loading",children:"Loading..."}):Object(l.jsxs)("article",{className:"today-todo_container",children:[Object(l.jsx)("h1",{children:"Notes"}),t.map((function(e){return Object(l.jsx)("div",{className:"todo",children:Object(l.jsxs)("div",{children:[e.note,"  ",Object(l.jsx)("div",{children:Object(l.jsx)(u.d,{style:{color:"#777777",cursor:"pointer",marginLeft:"1px",marginRight:"-5px"},onClick:function(){return n(e._id)}})})]})},e._id)}))]})};var N=function(e){var t=e.newNote,n=Object(a.useState)(""),c=Object(i.a)(n,2),o=c[0],r=c[1];return Object(l.jsx)("div",{children:Object(l.jsxs)("form",{onSubmit:function(e){var n=o;e.preventDefault(),t(n),r("")},children:[Object(l.jsx)("input",{onChange:function(e){r(e.target.value)},type:"text",value:o,placeholder:"New Note",id:"newNoteInput",required:!0}),Object(l.jsx)("button",{type:"submit",id:"newTodoBtn",children:"+"})]})})},M=n(5),S=n(7);var D=function(e){var t=e.todo,n=e.updatedTodo,c=e.closeEdit,o=Object(a.useState)(t),r=Object(i.a)(o,2),s=r[0],d=r[1],u=Object(a.useRef)();Object(a.useEffect)((function(){var e=function(e){u.current.contains(e.target)||c("")};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}));var j=function(e){d((function(t){return Object(S.a)(Object(S.a)({},t),{},Object(M.a)({},e.target.id,e.target.value))}))};return Object(l.jsx)("div",{className:"edit-container",ref:u,children:Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n(s)},children:[Object(l.jsx)("input",{type:"text",value:s.text,onChange:j,id:"text"}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{type:"time",value:s.time,onChange:j,id:"time"}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{type:"text",value:s.date,onChange:j,id:"date"}),Object(l.jsx)("br",{}),Object(l.jsx)("button",{type:"submit",children:"Save"})]})})};d.a.updateLocale("sv",{week:{dow:1}});var k=function(){var e,t=Object(a.useState)(""),n=Object(i.a)(t,2),c=n[0],o=n[1],r=Object(a.useState)(),s=Object(i.a)(r,2),u=s[0],j=s[1],b=Object(a.useState)(d()().format("MM-YYYY")),f=Object(i.a)(b,2),p=f[0],m=f[1],M=function(e){var t=d()(e,"MM-YYYY").add(-1,"month").format("MM-YYYY"),n=d()(p,"MM-YYYY").add(-1,"month").format("MM-YYYY");return m(n),t},S=function(e){var t=d()(e,"MM-YYYY").add(1,"month").format("MM-YYYY"),n=d()(p,"MM-YYYY").add(1,"month").format("MM-YYYY");return m(n),t},k=Object(a.useState)(p.slice(-4)),C=Object(i.a)(k,2),w=C[0],I=C[1],E=Object(a.useState)([]),_=Object(i.a)(E,2),T=_[0],L=_[1],J="";Object(a.useEffect)((function(){e=p.slice(0,2),I(p.slice(-4)),fetch(J+="https://sholiday.faboul.se/dagar/v2.1/"+w+"/"+e).then((function(e){return e.json()})).then((function(e){L(e.dagar)}))}),[p]);var q=Object(a.useState)([]),A=Object(i.a)(q,2),H=A[0],B=A[1],F=Object(a.useState)(d()()),R=Object(i.a)(F,2),U=R[0],W=R[1];Object(a.useEffect)((function(){!function(){var e=Array.from({length:d()(p,"MM").daysInMonth()},(function(e,t){return d()(p,"MM").startOf("month").add(t,"days").format("DD")}));B(e)}(),function(){var e=d()(p,"MM").startOf("month").add(-1,"days").format("d");W(e)}()}),[p]);var P=Object(a.useState)(d()().format("DD-MM-YYYY")),z=Object(i.a)(P,2),G=z[0],K=z[1],Q=Object(a.useState)(d()().format("DD-MM-YYYY")),V=Object(i.a)(Q,2),X=V[0],Z=V[1],$=Object(a.useState)(),ee=Object(i.a)($,2),te=ee[0],ne=ee[1];Object(a.useEffect)((function(){var e=c.id;fetch("https://calendar-backend-mathildap.herokuapp.com/get",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({userId:e})}).then((function(e){return e.json()})).then((function(e){return ne(e)}))}),[c]);var ae=function(e){var t={id:e,userId:c.id};fetch("https://calendar-backend-mathildap.herokuapp.com/delete",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){ne(e)}))},ce=function(e){var t;t=!0!==e.done;var n={id:e.id,done:t,userId:c.id};fetch("https://calendar-backend-mathildap.herokuapp.com/update",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){ne(e)}))},oe=Object(a.useState)(""),re=Object(i.a)(oe,2),ie=re[0],se=re[1],de=Object(a.useState)(),ue=Object(i.a)(de,2),le=ue[0],je=ue[1];return Object(a.useEffect)((function(){var e=c.id;fetch("https://calendar-backend-mathildap.herokuapp.com/notes/get",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({userId:e})}).then((function(e){return e.json()})).then((function(e){return je(e)}))}),[c]),Object(l.jsx)("main",{children:""===c?Object(l.jsx)(y,{userInfo:function(e){fetch("https://calendar-backend-mathildap.herokuapp.com/users",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({info:e})}).then((function(e){return e.json()})).then((function(e){"error"!==e?o({userName:e.username,id:e.id}):j("error")}))},newUserInfo:function(e){fetch("https://calendar-backend-mathildap.herokuapp.com/users/new",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({newUser:e})}).then((function(e){return e.json()})).then((function(e){o({userName:e.username,id:e.id})}))},errorMsg:u}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(x,{month:p,changeMonth:function(e){if("back"===e){var t=M(p);m(t)}else if("forward"===e){var n=S(p);m(n)}},user:c.userName,logOutHandler:function(){o("")}}),Object(l.jsxs)("section",{className:"main-container",children:[Object(l.jsx)(O,{monthInNr:p,days:H,api:T,firstDayOfMonth:U,clickedDay:function(e){Z(e.id),K(e.id)},todos:te,onDelete:ae,onToggle:ce}),Object(l.jsxs)("aside",{children:[Object(l.jsxs)("div",{className:"aside-container",children:[Object(l.jsx)(g,{clickedDay:G,todos:te,onDelete:ae,onToggle:ce,editTodo:function(e){se(e)}}),Object(l.jsx)(v,{clickedDay:G,inputToDo:function(e){var t={userId:c.id,text:e.text,time:e.time,date:X,done:!1};fetch("https://calendar-backend-mathildap.herokuapp.com/new",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){return ne(e)}))}})]}),Object(l.jsxs)("div",{className:"aside-container",children:[Object(l.jsx)(Y,{notes:le,onDelete:function(e){var t={id:e,userId:c.id};fetch("https://calendar-backend-mathildap.herokuapp.com/notes/delete",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){je(e)}))}}),Object(l.jsx)(N,{newNote:function(e){var t={userId:c.id,note:e,done:!1};fetch("https://calendar-backend-mathildap.herokuapp.com/notes/newNote",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){je(e)}))}})]}),Object(l.jsx)(h,{todos:te,onDelete:ae,onToggle:ce})]})]}),""===ie?"":Object(l.jsx)(D,{todo:ie,updatedTodo:function(e){console.log(e),fetch("https://calendar-backend-mathildap.herokuapp.com/edit",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){ne(e),se("")}))},closeEdit:function(){return se("")}})]})})};r.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(k,{})}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.1ed0c2f3.chunk.js.map