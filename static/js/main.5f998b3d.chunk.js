(this.webpackJsonpcalendar=this.webpackJsonpcalendar||[]).push([[0],{13:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(6),o=n.n(r),i=n(3),s=n(2),d=n.n(s),l=(n(13),n(4)),u=n(0);var j=function(e){var t=e.todo,n=e.onDelete,a=e.onToggle;return Object(u.jsx)("div",{className:"todo",children:Object(u.jsxs)("div",{className:"".concat(!0===t.done?"reminder":""),children:[Object(u.jsx)("span",{className:"todo-text",children:t.text}),Object(u.jsx)("span",{className:"todo-time_date",children:t.time}),Object(u.jsx)("span",{className:"todo-time_date",children:t.date}),Object(u.jsxs)("div",{children:[Object(u.jsx)(l.a,{style:{color:"#777777",cursor:"pointer",fontSize:"1.1rem"},onClick:function(){return a({id:t._id,done:t.done})}}),Object(u.jsx)(l.d,{style:{color:"#777777",cursor:"pointer",marginLeft:"1px",marginRight:"-5px"},onClick:function(){return n(t._id)}})]})]})})};var h=function(e){var t=e.todos,n=e.onDelete,a=e.onToggle;return void 0===t?Object(u.jsx)("div",{className:"aside-container alltodos-container loading",children:"Loading..."}):Object(u.jsxs)("div",{className:"aside-container alltodos-container",children:[Object(u.jsx)("h1",{children:"All Todos"}),t.sort((function(e,t){return d()(t.date,"DD-MM-YYYY")<d()(e.date,"DD-MM-YYYY")?1:-1})).map((function(e){return Object(u.jsx)(j,{todo:e,onDelete:n,onToggle:a},e._id)}))]})};var b=function(e){var t,n=e.day,a=e.api,c=e.month,r=e.clickedDay,o=e.colorDayHandler,i=e.todos,s=d()().format("DD-MM-YYYY");if(t="31"===n?31:d()(n,"DD-MM-YYYY").format("D"),void 0===i)return Object(u.jsx)("div",{});var l=n+"-"+c,j=0,h=d()(l,"DD-MM-YYYY").format("YYYY-MM-DD");return Object(u.jsxs)("div",{onMouseDown:function(e){document.querySelectorAll("*").forEach((function(e){e.classList.remove("clickedday")}))},onClick:function(e){if(10===e.target.id.length){var t=e.target.id,n={date:t.slice(-2),year:t.slice(-7,-2),mon:t.replace(/ .*/,""),id:e.target.id};r(n),o(t)}else{var a=e.target.parentNode.id,c={date:a.slice(-2),year:a.slice(-7,-2),mon:a.replace(/ .*/,""),id:e.target.parentNode.id};r(c),o(a)}},id:l,className:"".concat(l===s?"days-day_cont currentday":"days-day_cont"),children:[Object(u.jsxs)("h3",{children:[t,a.filter((function(e){return e.datum===h})).map((function(e){return Object(u.jsx)("span",{className:"days-api",children:e.helgdag},e.datum)}))]}),i.sort((function(e,t){return t.time<e.time?1:-1})).filter((function(e){return e.date===l})).map((function(e){return j++,Object(u.jsxs)("div",{className:"inline day-todo",children:["\u30fb",e.text]},e._id)})),Object(u.jsx)("div",{className:"days-todo_count",children:0===j?"":j+" Todo:"})]})},m=n(7),f=n.n(m);var O=function(){return Object(u.jsx)(f.a,{type:"spin",color:"rgb(241, 136, 139)",height:"15%",width:"15%",className:"loading"})};d.a.updateLocale("sv",{week:{dow:1}});var p=function(e){for(var t=e.days,n=e.firstDayOfMonth,c=parseInt(n,10),r=[],o=0;o<c;o++)r.push(o);var s=d.a.weekdaysShort(!0).map((function(e){return Object(u.jsx)("div",{className:"weekdays-day_cont",children:e},e)})),l=function(t){e.clickedDay(t)},j=Object(a.useState)(""),h=Object(i.a)(j,2),m=h[0],f=h[1],p=function(e){f(e)};return Object(a.useEffect)((function(){""!==m&&document.getElementById(m).classList.add("clickedday")}),[m]),Object(u.jsxs)("section",{className:"calendar-container",children:[Object(u.jsx)("div",{className:"weekdays-container",children:s}),Object(u.jsxs)("div",{className:"days-container",children:[r.map((function(e,t){return Object(u.jsx)("div",{className:"days-day_cont empty"},t)})),void 0!==t?t.map((function(t){return Object(u.jsx)(b,{month:e.monthInNr,day:t,api:e.api,clickedDay:l,colorDayHandler:p,todos:e.todos},e.monthInNr+t)})):Object(u.jsx)(O,{})]})]})};var g=function(e){var t=d()(e.month,"MM-YYYY").format("MMMM YYYY");return Object(u.jsxs)("header",{children:[Object(u.jsxs)("div",{className:"header-name_btn",children:[Object(u.jsx)("div",{className:"header-username",children:e.user}),Object(u.jsx)("button",{onClick:e.logOutHandler,className:"logOutBtn",children:"Sign out"})]}),Object(u.jsxs)("div",{className:"header",children:[Object(u.jsx)(l.b,{type:"submit",onClick:function(){e.changeMonth("back")},className:"header-arrow"}),Object(u.jsx)("h1",{children:t}),Object(u.jsx)(l.c,{type:"submit",onClick:function(){e.changeMonth("forward")},className:"header-arrow"})]})]})};var x=function(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),c=n[0],r=n[1],o=Object(a.useState)(""),s=Object(i.a)(o,2),d=s[0],l=s[1];return Object(u.jsx)("div",{children:Object(u.jsxs)("form",{onSubmit:function(t){var n={text:c,time:d};t.preventDefault(),e.inputToDo(n),r(""),l(),document.getElementById("appt").value=""},children:[Object(u.jsx)("input",{onChange:function(e){r(e.target.value)},type:"text",value:c,placeholder:"New Todo",id:"newTodoInput",maxLength:"20",required:!0}),Object(u.jsx)("input",{type:"time",id:"appt",name:"appt",onChange:function(e){l(e.target.value)}}),Object(u.jsx)("button",{type:"submit",id:"newTodoBtn",children:"+"})]})})};var v=function(e){var t=e.clickedDay,n=e.todos,a=e.onDelete,c=e.onToggle,r=d()(t,"DD-MM-YYYY").format("D MMMM YY");return void 0===n?Object(u.jsx)("div",{className:"aside-container loading",children:"Loading..."}):Object(u.jsxs)("article",{className:"today-todo_container",children:[Object(u.jsx)("h1",{children:r}),n.sort((function(e,t){return t.time<e.time?1:-1})).filter((function(e){return e.date===t})).map((function(e){return Object(u.jsx)("div",{className:"draggables todo",draggable:"true",children:Object(u.jsxs)("div",{className:"".concat(!0===e.done?"reminder":""),children:[e.text,"  ",Object(u.jsx)("span",{className:"todo-time_date",children:e.time}),Object(u.jsx)("span",{className:"todo-time_date",children:e.date}),Object(u.jsxs)("div",{children:[Object(u.jsx)(l.a,{style:{color:"#777777",cursor:"pointer",fontSize:"1.1rem"},onClick:function(){return c({id:e._id,done:e.done})}}),Object(u.jsx)(l.d,{style:{color:"#777777",cursor:"pointer",marginLeft:"1px",marginRight:"-5px"},onClick:function(){return a(e._id)}})]})]})},e._id)}))]})};var Y=function(e){var t=e.userInfo,n=e.newUserInfo,c=e.errorMsg,r=Object(a.useState)(""),o=Object(i.a)(r,2),s=o[0],d=o[1],l=Object(a.useState)(""),j=Object(i.a)(l,2),h=j[0],b=j[1],m=Object(a.useState)(!0),f=Object(i.a)(m,2),O=f[0],p=f[1],g=Object(a.useState)(""),x=Object(i.a)(g,2),v=x[0],Y=x[1],y=Object(a.useState)(""),M=Object(i.a)(y,2),N=M[0],D=M[1],S=Object(a.useState)(""),k=Object(i.a)(S,2),w=k[0],C=k[1];return Object(u.jsx)(u.Fragment,{children:O?Object(u.jsx)("div",{className:"login-page",children:Object(u.jsx)("div",{id:"logInContainer",children:Object(u.jsx)("div",{id:"logInInputs",children:Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({email:s,password:h})},children:[Object(u.jsx)("input",{type:"email",placeholder:"EMAIL",id:"userName",className:"logInField",onChange:function(e){d(e.target.value.toLowerCase())},value:s,required:!0}),Object(u.jsx)("input",{type:"password",placeholder:"PASSWORD",id:"passWord",className:"logInField",onChange:function(e){b(e.target.value)},value:h,required:!0}),c?Object(u.jsx)("p",{id:"errorMsg",children:"Sorry, invalid login!"}):"",Object(u.jsx)("button",{id:"logInBtn",children:"Sign in"}),Object(u.jsx)("p",{onClick:function(){return p(!O)},id:"signUp",children:"Create account"})]})})})}):Object(u.jsx)("div",{className:"login-page",children:Object(u.jsx)("div",{id:"newLogInContainer",children:Object(u.jsx)("div",{id:"logInInputs",children:Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n({userName:v,email:N,passWord:w})},children:[Object(u.jsx)("input",{type:"text",placeholder:"CHOOSE NAME",id:"newUserName",className:"logInField",required:"required",onChange:function(e){return Y(e.target.value)},value:v}),Object(u.jsx)("input",{type:"email",placeholder:"CHOOSE EMAIL",id:"newEmail",className:"logInField",required:"required",onChange:function(e){return D(e.target.value.toLowerCase())},value:N}),Object(u.jsx)("input",{type:"password",placeholder:" CHOOSE PASSWORD",id:"newPassWord",className:"logInField",required:"required",onChange:function(e){return C(e.target.value)},value:w}),Object(u.jsx)("p",{id:"newErrorMsg"}),Object(u.jsx)("button",{id:"createAccount",children:"Create account"}),Object(u.jsx)("p",{onClick:function(){return p(!O)},id:"signUp",children:"Have an account? Sign in"})]})})})})})};d.a.updateLocale("sv",{week:{dow:1}});var y=function(){var e,t=Object(a.useState)(""),n=Object(i.a)(t,2),c=n[0],r=n[1],o=Object(a.useState)(),s=Object(i.a)(o,2),l=s[0],j=s[1],b=Object(a.useState)(d()().format("MM-YYYY")),m=Object(i.a)(b,2),f=m[0],O=m[1],y=function(e){var t=d()(e,"MM-YYYY").add(-1,"month").format("MM-YYYY"),n=d()(f,"MM-YYYY").add(-1,"month").format("MM-YYYY");return O(n),t},M=function(e){var t=d()(e,"MM-YYYY").add(1,"month").format("MM-YYYY"),n=d()(f,"MM-YYYY").add(1,"month").format("MM-YYYY");return O(n),t},N=Object(a.useState)(f.slice(-4)),D=Object(i.a)(N,2),S=D[0],k=D[1],w=Object(a.useState)([]),C=Object(i.a)(w,2),I=C[0],E=C[1],_="";Object(a.useEffect)((function(){e=f.slice(0,2),k(f.slice(-4)),fetch(_+="https://sholiday.faboul.se/dagar/v2.1/"+S+"/"+e).then((function(e){return e.json()})).then((function(e){E(e.dagar)}))}),[f]);var L=Object(a.useState)([]),T=Object(i.a)(L,2),q=T[0],A=T[1],H=Object(a.useState)(d()()),J=Object(i.a)(H,2),F=J[0],B=J[1];Object(a.useEffect)((function(){!function(){var e=Array.from({length:d()(f,"MM").daysInMonth()},(function(e,t){return d()(f,"MM").startOf("month").add(t,"days").format("DD")}));A(e)}(),function(){var e=d()(f,"MM").startOf("month").add(-1,"days").format("d");B(e)}()}),[f]);var U=Object(a.useState)(d()().format("DD-MM-YYYY")),W=Object(i.a)(U,2),R=W[0],P=W[1],z=Object(a.useState)(d()().format("DD-MM-YYYY")),G=Object(i.a)(z,2),K=G[0],Q=G[1],V=Object(a.useState)(),X=Object(i.a)(V,2),Z=X[0],$=X[1],ee=Object(a.useState)(),te=Object(i.a)(ee,2),ne=(te[0],te[1]);Object(a.useEffect)((function(){var e=c.id;fetch("https://calendar-backend-mathildap.herokuapp.com/get",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({userId:e})}).then((function(e){return e.json()})).then((function(e){return $(e)}))}),[c]);var ae=function(e){var t={id:e,userId:c.id};fetch("https://calendar-backend-mathildap.herokuapp.com/delete",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){$(e)}))},ce=function(e){var t;t=!0!==e.done;var n={id:e.id,done:t,userId:c.id};fetch("https://calendar-backend-mathildap.herokuapp.com/update",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){$(e)}))};return""===!Z&&document.querySelector(".draggables").forEach((function(e){e.addEventListener("dragstart",(function(){e.classList.add("dragging")}))})),Object(u.jsx)("main",{children:""===c?Object(u.jsx)(Y,{userInfo:function(e){fetch("https://calendar-backend-mathildap.herokuapp.com/users",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({info:e})}).then((function(e){return e.json()})).then((function(e){"error"!==e?r({userName:e.username,id:e.id}):j("error")}))},newUserInfo:function(e){fetch("https://calendar-backend-mathildap.herokuapp.com/users/new",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({newUser:e})}).then((function(e){return e.json()})).then((function(e){r({userName:e.username,id:e.id})}))},errorMsg:l}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(g,{month:f,changeMonth:function(e){if("back"===e){var t=y(f);O(t)}else if("forward"===e){var n=M(f);O(n)}},user:c.userName,logOutHandler:function(){r("")}}),Object(u.jsxs)("section",{className:"main-container",children:[Object(u.jsx)(p,{monthInNr:f,days:q,api:I,firstDayOfMonth:F,clickedDay:function(e){Q(e.id),P(e.id)},todos:Z,onDelete:ae,onToggle:ce}),Object(u.jsxs)("aside",{children:[Object(u.jsxs)("div",{className:"aside-container",children:[Object(u.jsx)(v,{clickedDay:R,todos:Z,onDelete:ae,onToggle:ce}),Object(u.jsx)(x,{clickedDay:R,inputToDo:function(e){var t={userId:c.id,text:e.text,time:e.time,date:K,done:!1};ne(t),fetch("https://calendar-backend-mathildap.herokuapp.com/new",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){return $(e)}))}})]}),Object(u.jsx)(h,{todos:Z,onDelete:ae,onToggle:ce})]})]})]})})};o.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(y,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.5f998b3d.chunk.js.map